"use strict";(self.webpackChunkcourses_for_genesis=self.webpackChunkcourses_for_genesis||[]).push([[0,454],{1454:function(e,n,r){r.r(n),r.d(n,{default:function(){return c}});var t,s=r(8966),o=r(168),a=r(6088).Z.div(t||(t=(0,o.Z)(["\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 50%;\n  left: 50%;\n"]))),i=r(184),c=function(){return(0,i.jsx)(a,{children:(0,i.jsx)(s.BR,{height:"200",width:"200",radius:1,color:"#002884",ariaLabel:"puff-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})}},3e3:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t=r(9439),s=r(2791),o=r(890),a=r(2169),i=r(4554),c=r(4942),u=r(6710),l=r(9323),d=r(184),h=function(e){var n=e.URL,r=e.muted,t=(0,s.useRef)(null);return(0,d.jsx)(u.Z,{url:n,width:"100%",height:"100%",playing:!0,loop:!0,muted:r,controls:!0,onProgress:function(e){var r=(0,l.z)("videoProgress")||{};r[n]=e.playedSeconds,(0,l.a)("videoProgress",r)},onReady:function(){return t.current.seekTo(function(){var e=(0,l.z)("videoProgress");if(e)return-1===Object.keys(e).indexOf(n)?0:parseFloat(e[n])}())},onEnded:function(){(0,l.a)("videoProgress",(0,c.Z)({},n,0))},onError:function(e){console.log("An error occurred:",e)},ref:t})},p=r(1413),f=r(6934),g=(0,f.ZP)("div",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var n=e.theme,r=e.open,t=e.drawerwidth;return(0,p.Z)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"20px",flexGrow:1,padding:n.spacing(3),paddingTop:64,transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginRight:0},r&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginRight:t})})),x=function(e){var n=e.course,r=e.usedData;return(0,d.jsxs)(g,{open:r.isOpen,drawerwidth:r.drawerWidth,children:[(0,d.jsx)(a.Z,{component:"img",src:"".concat(n.previewImageLink,"/cover.webp"),width:"100%",height:"250px",alt:n.title,style:{display:"block",objectFit:"contain"}}),(0,d.jsxs)(o.Z,{variant:"h3",component:"h2",children:['"',n.title,'"']}),(0,d.jsx)(o.Z,{align:"justify",paragraph:!0,children:n.description}),(0,d.jsx)(i.Z,{style:{width:750,height:350},children:(0,d.jsx)(h,{URL:"https://cors-proxy.fringe.zone/".concat(n.lessons[r.lesson].link),muted:!1})}),(0,d.jsxs)(o.Z,{variant:"h4",component:"h4",children:["Lesson ",n.lessons[r.lesson].order,': "',n.lessons[r.lesson].title,'"']})]})},v=r(43),m=r(7689),Z=r(4663),w=r(3400),j=r(145),y=r(7924),k=r(493),b=r(4852),C=r(8008),S=r(1009),L=r(8996),O=r(7621),D=r(9504),P=r(6647),z=function(e){var n=e.lessonData,r=e.handleLessonsChange,c=e.index,l=(0,s.useState)(!1),h=(0,t.Z)(l,2),p=h[0],f=h[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.Z,{gutterBottom:!0,variant:"h5",component:"h3",children:["Lesson ",n.order]}),(0,d.jsx)(O.Z,{sx:{maxWidth:345},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:(0,d.jsxs)(P.Z,{onClick:function(){r(c)},children:[(0,d.jsx)(i.Z,{sx:{width:300,height:150},children:p&&"locked"!==n.status?(0,d.jsx)(u.Z,{url:"https://cors-proxy.fringe.zone/".concat(n.link),playing:p,loop:p,muted:!0,controls:!1,width:"100%",height:"100%"}):(0,d.jsx)(a.Z,{component:"img",width:"100%",height:"100%",image:"".concat(n.previewImageLink,"/lesson-").concat(n.order,".webp"),alt:"lesson-".concat(n.order),style:{display:"block"}})}),(0,d.jsxs)(D.Z,{children:[(0,d.jsxs)(o.Z,{gutterBottom:!0,variant:"h6",component:"h3",align:"center",children:['"',n.title,'"']}),(0,d.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:n.status})]})]})})]})},R=(0,f.ZP)("div")((function(e){var n=e.theme;return(0,p.Z)((0,p.Z)({display:"flex",alignItems:"center",padding:n.spacing(0,1)},n.mixins.toolbar),{},{justifyContent:"flex-start"})}));var F=function(e){var n=e.usedData,r=e.course,t=e.handleLessonsChange;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(Z.Z,{style:{position:"absolute",right:8,top:0,gap:16},children:[(0,d.jsx)(o.Z,{variant:"h6",noWrap:!0,sx:{flexGrow:1},component:"div",children:"Lessons"}),(0,d.jsx)(w.Z,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:n.handleDrawerOpen,sx:(0,p.Z)({},n.isOpen&&{display:"none"}),children:(0,d.jsx)(C.Z,{})})]}),(0,d.jsxs)(j.ZP,{sx:{width:n.drawerWidth,flexShrink:0,"& .MuiDrawer-paper":{width:n.drawerWidth}},variant:"persistent",anchor:"right",open:n.isOpen,children:[(0,d.jsx)(R,{children:(0,d.jsx)(w.Z,{onClick:n.handleDrawerClose,children:"rtl"===n.theme.direction?(0,d.jsx)(S.Z,{}):(0,d.jsx)(L.Z,{})})}),(0,d.jsx)(y.Z,{}),(0,d.jsx)(k.Z,{children:r.lessons.map((function(e,n){return(0,d.jsx)(b.ZP,{style:{display:"flex",flexDirection:"column"},children:(0,d.jsx)(z,{index:n,lessonData:e,handleLessonsChange:t})},e.id)}))})]})]})},I=r(3967),W=r(1454),B=function(){var e=(0,s.useState)(null),n=(0,t.Z)(e,2),r=n[0],o=n[1],a=(0,s.useState)(!0),i=(0,t.Z)(a,2),c=i[0],u=i[1],h=(0,s.useState)(0),p=(0,t.Z)(h,2),f=p[0],g=p[1],Z=(0,s.useState)(!0),w=(0,t.Z)(Z,2),j=w[0],y=w[1],k=(0,m.UO)().courseId;(0,s.useEffect)((function(){(0,v.XR)(k).then((function(e){console.log(e),o(e);var n=(0,l.z)("lessonProgress");n&&-1!==Object.keys(n).indexOf(k)&&g(n[k])})).then((function(){return y(!1)}))}),[k]);var b={isOpen:c,handleDrawerOpen:function(){u(!0)},handleDrawerClose:function(){u(!1)},drawerWidth:340,theme:(0,I.Z)(),lesson:f};return(0,d.jsxs)(d.Fragment,{children:[j&&(0,d.jsx)(W.default,{}),r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F,{course:r,usedData:b,handleLessonsChange:function(e){var n=(0,l.z)("lessonProgress")||{};n[k]=e,(0,l.a)("lessonProgress",n),g(e)}}),(0,d.jsx)(x,{course:r,usedData:b})]})]})}},43:function(e,n,r){r.d(n,{XR:function(){return u},CA:function(){return c}});var t=r(4165),s=r(5861),o=r(1243).Z.create({baseURL:"https://cors-proxy.fringe.zone/http://api.wisey.app/api/v1/"}),a=function(e){if(e)return o.defaults.headers.common.authorization="Bearer ".concat(e);o.defaults.headers.common.authorization=""},i=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.get("/auth/anonymous?platform=subscriptions");case 3:n=e.sent,r=n.data.token,a(r),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return e.next=5,o.get("/core/preview-courses");case 5:return n=e.sent,r=n.data,e.abrupt("return",r.courses);case 10:throw e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){var r,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return e.next=5,o.get("/core/preview-courses/".concat(n));case 5:return r=e.sent,s=r.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}()},9323:function(e,n,r){r.d(n,{a:function(){return t},z:function(){return s}});var t=function(e,n){try{var r=JSON.stringify(n);localStorage.setItem(e,r)}catch(t){console.error("Set state error: ",t.message)}},s=function(e){try{var n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(r){console.error("Get state error: ",r.message)}}}}]);
//# sourceMappingURL=0.1766f687.chunk.js.map